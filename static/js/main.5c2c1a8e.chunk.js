(this.webpackJsonptest02=this.webpackJsonptest02||[]).push([[0],{412:function(e,t,n){},413:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),s=n(19),c=n.n(s),o=(n(412),n(260)),l=n.n(o),u=n(390),d=n(367),g=n(368),f=n(391),b=n(389),h=n(369),p=n(370),j=n(23),O=(n(413),n(254)),y=n.n(O),w=n(515),x=n(516),m=n(517),v=n(519),k=n(509),q=n(206),S=n(374),C=n.n(S),T=n(384),R=n.n(T),P=n(375),D=n.n(P),N=n(382),_=n.n(N),E=n(262),B=n.n(E),Q=n(261),F=n.n(Q),I=n(376),L=n.n(I),W=n(377),A=n.n(W),H=n(379),U=n.n(H),G=n(380),$=n.n(G),J=n(381),M=n.n(J),Y=n(385),V=n.n(Y),z=n(378),X=n.n(z),K=n(383),Z=n.n(K),ee=n(386),te=n.n(ee),ne=n(348),ae=n(345),re=n(257),ie=n(334),se=n(256),ce=n(259),oe=n(349),le=n(17),ue={widgets:[{type:"text",id:"txt1",value:'\n<table width=100%>\n<tr>\n   <td width=8%>&nbsp;</td>\n   <td>\n      <IMG border="1"\n            align=left \n            SRC="https://lipyeow.github.io/home/img/lypic2018.jpg" height=250 />\n   </td>\n   <td width=7%>&nbsp;</td>\n   <td width=85%>\n      <h1>Lipyeow Lim &nbsp; &nbsp; &#26519;&#31435;&#32768; </h1>\n      \n      <h2>Associate Professor</h2>\n      \n      Information and Computer Science Department <br/>\n      University of Hawaii at Manoa <br/>\n      1680 East West Road, POST 303E <br/>\n      Honolulu, HI 96822, USA <br/>\n      <b>Email</b>: lipyeow at hawaii dot edu \n      <b>Tel</b>: 808-956-3495 <br/>\n      <br/>\n   </td>\n</tr>\n</table>\n'},{type:"table",id:"tEdu",label:Object(le.jsx)("h1",{children:"Education"}),dataref:"qEdu",colspecs:[{title:"Year",field:"year"},{title:"Degree",field:"degree"},{title:"Major",field:"major"},{title:"School",field:"institution"},{title:"Thesis",field:"thesis"},{title:"Advisor",field:"advisor"}],options:{search:!1,paging:!1,filtering:!1,exportButton:!1,tableLayout:"auto",showTitle:!0,toolbar:!0}},{type:"table",id:"tPub",label:Object(le.jsx)("h1",{children:"Publications"}),dataref:"qPub",colspecs:[{title:"Year",field:"year",cellStyle:{cellWidth:"10%"}},{title:"Venue",field:"venue",cellStyle:{cellWidth:"20%"}},{title:"Title",field:"title",cellStyle:{cellWidth:"50%"}},{title:"Authors",field:"authors",cellStyle:{cellWidth:"20%"}},{title:"pdf",field:"pdf",render:function(e){return Object(le.jsx)("a",{href:"https://lipyeow.github.io/home/"+e.pdf,download:!0,children:"pdf"})}}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto"}},{type:"table",id:"tStu",label:Object(le.jsx)("h1",{children:"Students"}),dataref:"qStu",colspecs:[{title:"Year",field:"year"},{title:"Degree",field:"degree"},{title:"Name",field:"name"},{title:"Thesis",field:"thesis"}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto"}},{type:"table",id:"tTeach",label:Object(le.jsx)("h1",{children:"Teaching"}),dataref:"qTeach",colspecs:[{title:"Year",field:"year"},{title:"Semester",field:"semester"},{title:"Course",field:"num"},{title:"Title",field:"title",defaultGroupOrder:0},{title:"Website",field:"url",render:function(e){return Object(le.jsx)("a",{href:e.url,download:!0,children:"link"})}}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto",grouping:!0}},{type:"text",id:"txt2",value:"Projects"},{type:"query",id:"qPub",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/pubs.json",fetch_on_init:!0,args:[]},{type:"query",id:"qEdu",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/education.json",fetch_on_init:!0,args:[]},{type:"query",id:"qStu",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/students.json",fetch_on_init:!0,args:[]},{type:"query",id:"qTeach",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/teaching.json",fetch_on_init:!0,args:[]},{type:"query",id:"q2",backend:"constant",endpoint:"r0",query:{cols:[{title:"Year",field:"year"},{title:"Title",field:"title"},{title:"Venue",field:"venue"}],data:[{year:"2020",title:"Deep learning",authors:"john et al",venue:"vldb"},{year:"2021",title:'<a href="https://lipyeow.github.io/home/">pdf</a>',authors:"Tim et al",venue:"sigmod"}]},args:[{from:"ti1"},{from:"ti1"},{from:"m1"},{from:"m1"}]}]},de={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(U.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)($.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(_.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(V.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(te.a,Object(j.a)(Object(j.a)({},e),{},{ref:t}))}))},ge=new w.a({uri:"http://127.0.0.1:4000/graphql",cache:new x.a,fetchOptions:{mode:"no-cors"}}),fe=Object(m.a)(a||(a=Object(p.a)(["\n  query GetData($endpoint: String!, $query: String!, $args: String) {\n    getData(endpoint: $endpoint, query: $query, args: $args) {\n      data\n      colstr\n      columns {\n        title\n        field\n      }\n    }\n  }\n"])));function be(e){return console.log(e.state[e.id]),Object(le.jsx)(y.a,{icons:de,title:e.label,data:e.state[e.state[e.id].dataref].data,columns:e.state[e.id].colspecs.length>0?e.state[e.id].colspecs:e.state[e.state[e.id].dataref].cols,options:e.state[e.id].options})}var he=Object(ne.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"},flexgrow:1},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function pe(e){var t=he();return Object(le.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:e.widgets.map((function(t){return Object(le.jsx)(je,{wspec:t,callbacks:e.callbacks,state:e.state,widgets:e.widget})}))})}function je(e){var t=he();switch(e.wspec.type){case"form":return Object(le.jsx)(pe,{callbacks:e.callbacks,state:e.state,widgets:e.wspec.widgets},e.wspec.id);case"table":return Object(le.jsx)(k.a,{item:!0,xs:12,children:Object(le.jsx)(be,{id:e.wspec.id,label:e.wspec.label,state:e.state,updateData:e.callbacks.updateData},e.wspec.id)});case"text_input":return Object(le.jsx)(ae.a,{state:e.state,id:"queryinput",label:e.wspec.label,onChange:function(t){return e.callbacks.handleTextChange(e.wspec.id,t)},variant:"outlined"},e.wspec.id);case"menu":return Object(le.jsxs)(se.a,{state:e.state,variant:"filled",className:t.formControl,children:[Object(le.jsx)(re.a,{id:"demo-simple-select-filled-label",children:e.wspec.label}),Object(le.jsxs)(ce.a,{labelId:"demo-simple-select-filled-label",id:"qtypedropdown",value:e.state[e.wspec.id].value,onChange:function(t){return e.callbacks.handleSelectChange(e.wspec.id,t)},children:[Object(le.jsx)(ie.a,{value:"",children:Object(le.jsx)("em",{children:"None"})}),e.wspec.values.map((function(e){return Object(le.jsx)(ie.a,{value:e.value,children:e.display},e.id)}))]})]},e.wspec.id);case"button":return Object(le.jsx)(oe.a,{state:e.state,id:e.wspec.id,trigger:e.wspec.trigger,variant:"contained",onClick:function(){return e.callbacks.handleClick(e.wspec.id)},children:e.wspec.label},e.wspec.id);case"text":return Object(le.jsx)(k.a,{item:!0,xs:12,children:Object(le.jsx)(q.a,{className:t.paper,children:Object(le.jsx)("div",{dangerouslySetInnerHTML:{__html:e.wspec.value}},e.wspec.id)})});default:return null}}function Oe(e,t){switch(t.type){case"table":e[t.id]={dataref:t.dataref,cols:[],colspecs:t.colspecs,options:t.options};break;case"query":e[t.id]={data:[],cols:[],backend:t.backend,endpoint:t.endpoint,query:t.query,args:t.args},"constant"===t.backend&&(e[t.id].data=t.query.data,e[t.id].cols=t.query.cols);break;case"text_input":case"menu":e[t.id]={value:""};break;case"button":e[t.id]={value:"",trigger:t.trigger};break;case"text":e[t.id]={value:t.value};break;case"form":ye(e,t.widgets)}return e}function ye(e,t){return t.reduce(Oe,e)}function we(e){return new Promise((function(t){return setTimeout(t,e)}))}function xe(e,t){for(var n={},a=0;a<e.length;a++)n[e[a]]=t[a];return n}function me(){return(me=Object(h.a)(l.a.mark((function e(t,n){var a,r,i,s,c,o,u,d,g,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://localhost:5000/presto/v1/statement",(r=new Headers).append("Content-Type","text/plain"),r.append("Access-Control-Allow-Origin","*"),r.append("X-Presto-User","l002"),i={method:"POST",headers:r,body:t},console.log(a),console.log(i),s={},e.prev=9,e.next=12,fetch(a,i);case 12:return e.next=14,e.sent.json();case 14:s=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:console.log(s),c={method:"GET",headers:r},o=s.nextUri.replace(":8080/",":5000/presto/"),console.log(o),console.log(c),u=s.stats.state,d=0;case 27:if(!(d<8)){e.next=48;break}return e.next=30,we(4e3);case 30:return e.prev=30,e.next=33,fetch(o,c);case 33:return e.next=35,e.sent.json();case 35:s=e.sent,e.next=41;break;case 38:e.prev=38,e.t1=e.catch(30),console.log(e.t1);case 41:if(u=s.stats.state,console.log(s),"FINISHING"!==u){e.next=45;break}return e.abrupt("break",48);case 45:d++,e.next=27;break;case 48:return g=s.columns.map((function(e){return e.name})),(f={}).data=s.data.map((function(e){return xe(g,e)})),f.cols=g.map((function(e){return{title:e,field:e}})),n(f.data,f.cols),e.abrupt("return",f);case 54:case"end":return e.stop()}}),e,null,[[9,17],[30,38]])})))).apply(this,arguments)}var ve=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).spec=ue,a.staging=ye({},ue.widgets),a.spec.widgets.map((function(e){return"query"===e.type&&"urlfetch"===e.backend&&e.fetch_on_init&&a.runUrlFetchQuery(e.id),null})),a.state=a.staging,console.log(a.state),a}return Object(g.a)(n,[{key:"handleTextChange",value:function(e,t){console.log("handleTextChange("+e+"): "),console.log(this.state),this.staging[e].value=t.target.value}},{key:"handleSelectChange",value:function(e,t){console.log("handleSelectChange("+e+"): "),console.log(this.state),this.staging[e].value=t.target.value,this.setState(this.staging)}},{key:"runPrestoQuery",value:function(e){var t=this;console.log("Run Presto Query: "+e),function(e,t){me.apply(this,arguments)}(this.staging[e].query,(function(n,a){t.staging[e].data=n,t.staging[e].cols=a,console.log(t.staging),t.setState(t.staging)}))}},{key:"runNativeQuery",value:function(e){var t,n=this,a=[],r=Object(u.a)(this.staging[e].args);try{for(r.s();!(t=r.n()).done;){var i=t.value;a.push(this.staging[i.from].value)}}catch(c){r.e(c)}finally{r.f()}var s={endpoint:this.staging[e].endpoint,query:this.staging[e].query,args:JSON.stringify(a)};ge.query({query:fe,variables:s}).then((function(t){console.log(t),console.log("Before setting data: staging = "),console.log(n.staging),console.log("qid = "+e),n.staging[e].data=JSON.parse(t.data.getData.data),n.staging[e].cols=JSON.parse(t.data.getData.colstr),console.log("Before setState: staging = "),console.log(n.staging),n.setState(n.staging)}))}},{key:"runConstantQuery",value:function(e){console.log("Run Constant Query: "+e),this.staging[e].data=this.staging[e].query.data,this.staging[e].cols=this.staging[e].query.cols,console.log(this.staging),this.setState(this.staging)}},{key:"runUrlFetchQuery",value:function(e){var t=this;console.log("Run Url Fetch Query: "+e);var n=this.staging[e].query;fetch(n).then((function(e){return e.json()})).then((function(n){console.log(n),t.staging[e].data=n,t.staging[e].cols=function(e){return Object.keys(e[0]).map((function(e){return{title:e,field:e}}))}(n),t.setState(t.staging)}))}},{key:"handleClick",value:function(e){console.log("handleClick("+e+"): ");var t=this.staging[e].trigger;switch(this.staging[t].backend){case"presto":this.runPrestoQuery(t);break;case"native":this.runNativeQuery(t);break;case"constant":this.runConstantQuery(t);break;default:console.log("Unrecognized backend: "+this.staging[t].backend)}}},{key:"generateWidget",value:function(e){var t=this,n={handleClick:function(e){return t.handleClick(e)},handleTextChange:function(e,n){return t.handleTextChange(e,n)},handleSelectChange:function(e,n){return t.handleSelectChange(e,n)},updateData:function(e,n,a){return t.updateData(e,n,a)}};return Object(le.jsx)(je,{wspec:e,callbacks:n,state:this.state,widgets:this.spec.widgets})}},{key:"render",value:function(){var e=this;return Object(le.jsx)("div",{style:{maxWidth:"100%"},children:Object(le.jsx)(k.a,{container:!0,className:{flexGrow:1},spacing:2,children:Object(le.jsx)(v.a,{client:ge,children:this.spec.widgets.map((function(t){return e.generateWidget(t)}))})})})}}]),n}(r.Component),ke=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,909)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};c.a.render(Object(le.jsx)(i.a.StrictMode,{children:Object(le.jsx)(ve,{})}),document.getElementById("root")),ke()}},[[479,1,2]]]);
//# sourceMappingURL=main.5c2c1a8e.chunk.js.map