{"version":3,"sources":["appSpec.js","App.js","reportWebVitals.js","index.js"],"names":["app_spec","widgets","type","id","width","justify","value","tabs","label","idx","dataref","colspecs","title","field","options","search","paging","filtering","exportButton","tableLayout","showTitle","toolbar","render","rowData","href","pdf","download","maxBodyHeight","defaultGroupOrder","url","grouping","backend","endpoint","query","fetch_on_init","args","cols","data","year","authors","venue","from","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","client","ApolloClient","uri","cache","InMemoryCache","fetchOptions","mode","data_query","gql","DataTable","console","log","state","icons","columns","length","useStyles","makeStyles","theme","root","margin","spacing","flexgrow","backgroundColor","palette","background","paper","formControl","minWidth","selectEmpty","marginTop","padding","textAlign","color","text","secondary","customOne","flexGrow","fontFamily","customTwo","fontSize","TabPanel","children","index","other","role","hidden","Box","p","Typography","TabContainer","classes","React","useState","setValue","className","AppBar","position","style","Tabs","onChange","event","newValue","variant","map","tab","Tab","spec","Widget","wspec","callbacks","QueryForm","noValidate","autoComplete","widget","Grid","item","xs","updateData","TextField","handleTextChange","FormControl","InputLabel","Select","labelId","handleSelectChange","MenuItem","values","v","display","Button","trigger","onClick","handleClick","container","justifyContent","dangerouslySetInnerHTML","__html","accumulateStateEntry","genStateStruct","cur_state","reduce","sleep","ms","Promise","resolve","setTimeout","zip","vals","obj","i","updateState","a","hdr","Headers","append","method","headers","body","resp","fetch","json","get_options","nextUri","replace","stats","col","name","result","row","App","staging","this","runUrlFetchQuery","target","setState","qid","prestoFetch","push","vars","JSON","stringify","variables","then","parse","getData","colstr","response","Object","keys","x","extractColumnSpec","runPrestoQuery","runNativeQuery","runConstantQuery","d","c","maxWidth","alignContent","alignItems","ApolloProvider","generateWidget","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0face3db.chunk.js","sourcesContent":["\nconst edu_data = [\n{\n    \"year\": 2004,\n    \"month\": \"August\",\n    \"degree\": \"Ph.D.\",\n    \"major\": \"Computer Science\",\n    \"institution\": \"Duke University\",\n    \"sub-institution\": \"Department of Computer Science\",\n    \"thesis\": \"Online Methods for Database Optimization\",\n    \"advisor\": \"Jeffrey Scott Vitter\",\n    \"committee\": \"Min Wang, Ronald Parr, Jun Yang\",\n    \"gpa\": 3.9\n},\n{\n    \"year\": 2000,\n    \"month\": \"September\",\n    \"degree\": \"M.Sc.\",\n    \"major\": \"Information Systems & Computer Science\",\n    \"institution\": \"National University of Singapore\",\n    \"sub-institution\": \"School of Computing\",\n    \"thesis\": \"A Theoretical Look at Pixel Ordering\",\n    \"advisor\": \"Philip M. Long\",\n    \"committee\": \"Ghim-Hwee Ong, Wee-Sun Lee\",\n    \"gpa\": null\n},\n{\n    \"year\": 1999,\n    \"month\": \"May\",\n    \"degree\": \"B.Sc.\",\n    \"major\": \"Information Systems & Computer Science\",\n    \"institution\": \"National University of Singapore\",\n    \"sub-institution\": \"School of Computing\",\n    \"thesis\": \"Implementation of the mobile IPv4 configuration option for PPP IPCP (RFC 2290)\",\n    \"advisor\": \"Yong-Chiang (Y. C.) Tay\",\n    \"committee\": \"Kam-Hong Shum, Kwok-Yan Lam\",\n    \"gpa\": 3.5\n}\n];\n\n// text: \n//  - widths are in grid xs units\n//  - justify is passed to grid container justifyContent prop\nconst app_spec = {\n  widgets: [\n    {\n      type: \"text\",\n      id: \"txt1\",\n      width: 4,\n      justify: \"space-evenly\",\n      value: `\n            <br/>\n            <IMG border=\"1\" style=\"float: middle; display: inline-block; height: 220px; vertical-align: middle;\" \n           src=\"https://lipyeow.github.io/home/img/lypic2018.jpg\"/>\n            `,\n    },\n    {\n      type: \"text\",\n      id: \"txt2\",\n      width: 8,\n      justify: \"flex-start\",\n      value: `\n      <h1>Lipyeow Lim &nbsp; &nbsp; &#26519;&#31435;&#32768; </h1>\n      <i>Computer Scientist, Educator, Software Engineer</i>\n      \n      <br/>\n      <br/>\n      Fremont, CA, USA <br/>\n      <b>Email</b>: lipyeow at gmail dot com\n      `,\n    },\n    {\n      type: \"tabcontainer\",\n      id: \"tabcontainer01\",\n      tabs: [\n        {\n          label: \"Education\",\n          idx: 0,\n          widgets: [\n            {\n              type: \"table\",\n              id: \"tEdu\",\n              label: <i>Schools that molded me.</i>,\n              dataref: \"qEduConst\",\n              colspecs: [\n                { title: \"Year\", field: \"year\" },\n                { title: \"Degree\", field: \"degree\" },\n                { title: \"Major\", field: \"major\" },\n                { title: \"School\", field: \"institution\" },\n                { title: \"Thesis\", field: \"thesis\" },\n                { title: \"Advisor\", field: \"advisor\" },\n              ],\n              options: {\n                search: false,\n                paging: false,\n                filtering: false,\n                exportButton: false,\n                tableLayout: \"auto\",\n                showTitle: true,\n                toolbar: true,\n              },\n            },\n          ],\n        },\n        {\n          label: \"Publications\",\n          idx: 1,\n          widgets: [\n            {\n              type: \"table\",\n              id: \"tPub\",\n              label: <i>Scientific publications I have (co-)authored.</i>,\n              dataref: \"qPub\",\n              colspecs: [\n                { title: \"Year\", field: \"year\", },\n                { title: \"Venue\", field: \"venue\", },\n                { title: \"Title\", field: \"title\", },\n                { title: \"Authors\", field: \"authors\", },\n                { title: \"pdf\", field: \"pdf\",\n                  render: (rowData) => (\n                    <a\n                      href={\"https://lipyeow.github.io/home/\" + rowData.pdf}\n                      download\n                    >\n                      pdf\n                    </a>\n                  ),\n                },\n              ],\n              options: {\n                search: true,\n                paging: false,\n                filtering: false,\n                exportButton: true,\n                maxBodyHeight: \"50vh\",\n                tableLayout: \"auto\",\n              },\n            },\n          ],\n        },\n        {\n          label: \"Students\",\n          idx: 2,\n          widgets: [\n            {\n              type: \"table\",\n              id: \"tStu\",\n              label: <i>Students whom I have had the privilege of mentoring.</i>,\n              dataref: \"qStu\",\n              colspecs: [\n                { title: \"Year\", field: \"year\" },\n                { title: \"Degree\", field: \"degree\" },\n                { title: \"Name\", field: \"name\" },\n                { title: \"Thesis\", field: \"thesis\" },\n              ],\n              options: {\n                search: true,\n                paging: false,\n                filtering: false,\n                exportButton: true,\n                maxBodyHeight: \"50vh\",\n                tableLayout: \"auto\",\n              },\n            },\n          ],\n        },\n        {\n          label: \"Teaching\",\n          idx: 3,\n          widgets: [\n            {\n              type: \"table\",\n              id: \"tTeach\",\n              label: <i>Courses I have taught at the University of Hawaii at Manoa.</i>,\n              dataref: \"qTeach\",\n              colspecs: [\n                { title: \"Year\", field: \"year\" },\n                { title: \"Semester\", field: \"semester\" },\n                { title: \"Course\", field: \"num\" },\n                { title: \"Title\", field: \"title\", defaultGroupOrder: 0 },\n                { title: \"Level\", field: \"level\" },\n                {\n                  title: \"Website\",\n                  field: \"url\",\n                  render: (rowData) => (\n                    <a href={rowData.url} download>\n                      {rowData.url}\n                    </a>\n                  ),\n                },\n              ],\n              options: {\n                search: true,\n                paging: false,\n                filtering: false,\n                exportButton: true,\n                maxBodyHeight: \"50vh\",\n                tableLayout: \"auto\",\n                grouping: true,\n              },\n            },\n          ],\n        },\n      ],\n    },\n    {\n      type: \"query\",\n      id: \"qPub\",\n      backend: \"urlfetch\",\n      endpoint: \"r0\",\n      query: \"https://lipyeow.github.io/test02/data/pubs.json\",\n      fetch_on_init: true,\n      args: [],\n    },\n    {\n      type: \"query\",\n      id: \"qEdu\",\n      backend: \"urlfetch\",\n      endpoint: \"r0\",\n      query: \"https://lipyeow.github.io/test02/data/education.json\",\n      fetch_on_init: false,\n      args: [],\n    },\n    {\n      type: \"query\",\n      id: \"qStu\",\n      backend: \"urlfetch\",\n      endpoint: \"r0\",\n      query: \"https://lipyeow.github.io/test02/data/students.json\",\n      fetch_on_init: true,\n      args: [],\n    },\n    {\n      type: \"query\",\n      id: \"qTeach\",\n      backend: \"urlfetch\",\n      endpoint: \"r0\",\n      query: \"https://lipyeow.github.io/test02/data/teaching.json\",\n      fetch_on_init: true,\n      args: [],\n    },\n    {\n      type: \"query\",\n      id: \"q2\",\n      backend: \"constant\",\n      endpoint: \"r0\",\n      query: {\n        cols: [\n          { title: \"Year\", field: \"year\" },\n          { title: \"Title\", field: \"title\" },\n          { title: \"Venue\", field: \"venue\" },\n        ],\n        data: [\n          {\n            year: \"2020\",\n            title: \"Deep learning\",\n            authors: \"john et al\",\n            venue: \"vldb\",\n          },\n          {\n            year: \"2021\",\n            title: '<a href=\"https://lipyeow.github.io/home/\">pdf</a>',\n            authors: \"Tim et al\",\n            venue: \"sigmod\",\n          },\n        ],\n      },\n      args: [{ from: \"ti1\" }, { from: \"ti1\" }, { from: \"m1\" }, { from: \"m1\" }],\n    },\n    {\n      type: \"query\",\n      id: \"qEduConst\",\n      backend: \"constant\",\n      endpoint: \"r0\",\n      query: {\n        cols: [],\n        data: edu_data  \n      },\n      args: [],\n    },\n  ],\n};\n\nexport { app_spec };\n","import \"./App.css\";\n\nimport React from 'react';\n\nimport MaterialTable from \"material-table\";\nimport { ApolloClient, InMemoryCache, useQuery, gql } from \"@apollo/client\";\nimport { ApolloProvider } from \"@apollo/client/react\";\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { Component, forwardRef } from \"react\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\n\n// for tab containers\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\n\nimport { app_spec } from \"./appSpec\";\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\n};\n\nconst client = new ApolloClient({\n  uri: \"http://127.0.0.1:4000/graphql\",\n  cache: new InMemoryCache(),\n  fetchOptions: {\n    mode: \"no-cors\",\n  },\n});\nconst data_query = gql`\n  query GetData($endpoint: String!, $query: String!, $args: String) {\n    getData(endpoint: $endpoint, query: $query, args: $args) {\n      data\n      colstr\n      columns {\n        title\n        field\n      }\n    }\n  }\n`;\n\nfunction DataTable(args) {\n  console.log(args.state[args.id]);\n  return (\n      <MaterialTable\n        icons={tableIcons}\n        title={args.label}\n        data={args.state[args.state[args.id].dataref].data}\n        columns={args.state[args.id].colspecs.length>0 ? args.state[args.id].colspecs : args.state[args.state[args.id].dataref].cols} \n        options={args.state[args.id].options}\n      />\n  );\n}\n//    <div style={{ maxWidth: \"100%\" }}>\n//    </div>\n\nconst useStyles = makeStyles((theme) => (\n{\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\",\n    },\n    flexgrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  customOne: {\n    padding: '3rem 15rem',\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    fontFamily: 'Open Sans',\n  },\n  customTwo: {\n    padding: '0rem',\n    color: '#484848',\n    backgroundColor: '#bbbbbb',\n    fontFamily: 'Open Sans',\n    fontSize: '1rem',\n  },\n}\n));\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nfunction TabContainer(args) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root} >\n      <AppBar position=\"static\" style={{ minWidth: \"100%\" }}>\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\"\n            variant=\"fullWidth\"\n            className={classes.customTwo}\n            >\n          { args.tabs.map( (tab) =>  \n                (<Tab label={tab.label} {...a11yProps(tab.idx)} />)) }\n        </Tabs>\n      </AppBar>\n      { args.tabs.map( (tab) =>  \n                (<TabPanel value={value} index={tab.idx} style={{ minWidth: \"100%\" }}>\n                    { tab.widgets.map( (spec) => (<Widget wspec={spec} callbacks={args.callbacks} state={args.state} />) ) }\n                </TabPanel>\n                )) }\n    </div>\n  );\n}\n\nfunction QueryForm(args) {\n  const classes = useStyles();\n  return (\n    <form className={classes.root} noValidate autoComplete=\"off\">\n      {args.widgets.map((spec) =>\n        (<Widget wspec={spec} callbacks={args.callbacks} state={args.state} widgets={args.widget}/>)\n      )} \n    </form>\n  );\n}\n\n// Grid will use 12 units has maxwidth\nfunction Widget(args) {\n  const classes = useStyles();\n  switch (args.wspec.type) {\n    case \"tabcontainer\":\n      console.log(\"tabcontainer!\");\n      return (\n        <Grid item xs={12}>\n          <TabContainer\n            key={args.wspec.id}\n            callbacks={args.callbacks}\n            state={args.state}\n            tabs={args.wspec.tabs}\n          />\n        </Grid>\n      );\n    case \"form\":\n      return (\n        <Grid item xs={12}>\n          <QueryForm\n            key={args.wspec.id}\n            callbacks={args.callbacks}\n            state={args.state}\n            widgets={args.wspec.widgets}\n          />\n        </Grid>\n      );\n    case \"table\":\n      return (\n        <Grid item xs={12}>\n          <DataTable\n            key={args.wspec.id}\n            id={args.wspec.id}\n            label={args.wspec.label}\n            state={args.state}\n            updateData={args.callbacks.updateData}\n          />\n        </Grid>\n      );\n    case \"text_input\":\n      return (\n        <TextField\n          key={args.wspec.id}\n          state={args.state}\n          id=\"queryinput\"\n          label={args.wspec.label}\n          onChange={(event) => args.callbacks.handleTextChange(args.wspec.id, event)}\n          variant=\"outlined\"\n        />\n      );\n    case \"menu\":\n      return (\n        <FormControl\n          key={args.wspec.id}\n          state={args.state}\n          variant=\"filled\"\n          className={classes.formControl}\n        >\n          <InputLabel id=\"demo-simple-select-filled-label\">\n            {args.wspec.label}\n          </InputLabel>\n          <Select\n            labelId=\"demo-simple-select-filled-label\"\n            id=\"qtypedropdown\"\n            value={args.state[args.wspec.id].value}\n            onChange={(event) => args.callbacks.handleSelectChange(args.wspec.id, event)}\n          >\n            <MenuItem value=\"\">\n              <em>None</em>\n            </MenuItem>\n            {args.wspec.values.map((v) => {\n              return (\n                <MenuItem key={v.id} value={v.value}>\n                  {v.display}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        </FormControl>\n      );\n    case \"button\":\n      return (\n        <Button\n          key={args.wspec.id}\n          state={args.state}\n          id={args.wspec.id}\n          trigger={args.wspec.trigger}\n          variant=\"contained\"\n          onClick={() => args.callbacks.handleClick(args.wspec.id)}\n        >\n          {args.wspec.label}\n        </Button>\n      );\n    case \"text\":\n      return (\n        <Grid container xs={args.wspec.width} \n            justifyContent={args.wspec.justify}\n            >\n          <Grid item xs={args.wspec.width}>\n          <br/>\n          <div key={args.wspec.id}\n            dangerouslySetInnerHTML={{ __html: args.wspec.value }} />\n          </Grid >\n        </Grid >\n      );\n//          <Paper className={classes.paper}>\n//          </Paper>\n    default:\n      return null;\n  }\n}\n\nfunction accumulateStateEntry(state, wspec) {\n  switch (wspec.type) {\n    case \"table\":\n      state[wspec.id] = {\n        dataref: wspec.dataref,\n        cols: [],\n        colspecs: wspec.colspecs,\n        options: wspec.options\n      };\n      break;\n    case \"query\":\n      state[wspec.id] = {\n        data: [],\n        cols: [],\n        backend: wspec.backend,\n        endpoint: wspec.endpoint,\n        query: wspec.query,\n        args: wspec.args,\n      };\n      if (wspec.backend === \"constant\") {\n        state[wspec.id].data = wspec.query.data;\n        state[wspec.id].cols = wspec.query.cols;\n      }\n      break;\n    case \"text_input\":\n    case \"menu\":\n      state[wspec.id] = { value: \"\" };\n      break;\n    case \"button\":\n      state[wspec.id] = { value: \"\", trigger: wspec.trigger };\n      break;\n    case \"text\":\n      state[wspec.id] = { value: wspec.value };\n      break;\n    case \"form\":\n      genStateStruct(state, wspec.widgets);\n      break;\n    case \"tabcontainer\":\n      wspec.tabs.map( (tab) => genStateStruct(state, tab.widgets) );\n      break;\n    default:\n      break;\n  }\n  return state;\n}\n\nfunction genStateStruct(cur_state, widgets) {\n  return widgets.reduce(accumulateStateEntry, cur_state);\n}\n\nfunction sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nfunction zip(cols, vals) {\n  const obj = {};\n  for (var i = 0; i < cols.length; i++) {\n    obj[cols[i]] = vals[i];\n  }\n  return obj;\n}\n\nasync function prestoFetch(query, updateState) {\n  // uri needs to be fudged for nginx proxy\n  const url = \"http://localhost:5000/presto/v1/statement\";\n  const hdr = new Headers();\n  hdr.append(\"Content-Type\", \"text/plain\");\n  hdr.append(\"Access-Control-Allow-Origin\", \"*\");\n  hdr.append(\"X-Presto-User\", \"l002\");\n\n  const options = {\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n    //mode: 'no-cors', // no-cors, *cors, same-origin\n    headers: hdr,\n    body: query, // body data type must match \"Content-Type\" header\n  };\n  console.log(url);\n  console.log(options);\n  var resp = {};\n  try {\n    resp = await (await fetch(url, options)).json();\n  } catch (e) {\n    console.log(e);\n  }\n\n  console.log(resp);\n\n  const get_options = {\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n    headers: hdr,\n  };\n\n  // hack to handle nginx proxy\n  const nextUri = resp.nextUri.replace(\":8080/\", \":5000/presto/\");\n\n  console.log(nextUri);\n  console.log(get_options);\n  var state = resp.stats.state;\n  for (var i = 0; i < 8; i++) {\n    await sleep(4000);\n    try {\n      resp = await (await fetch(nextUri, get_options)).json();\n    } catch (e) {\n      console.log(e);\n    }\n    state = resp.stats.state;\n    console.log(resp);\n    if (state === \"FINISHING\") break;\n  }\n\n  const cols = resp.columns.map((col) => {\n    return col.name;\n  });\n  const result = {};\n  result[\"data\"] = resp.data.map((row) => {\n    return zip(cols, row);\n  });\n  result[\"cols\"] = cols.map((col) => {\n    return { title: col, field: col };\n  });\n  //console.log(result);\n  //  const resp = await fetch(url, options)\n  //    .then((response) => { return response.text(); })\n  //    .then((data) => { console.log(data);} )\n  //    .catch((error) => {console.log(error);} );\n  //  console.log(resp);\n  updateState(result.data, result.cols);\n  return result;\n}\n\n// extract a table column spec from array of recs\nfunction extractColumnSpec(data) {\n  return Object.keys(data[0]).map((x) => {\n    return { title: x, field: x };\n  });\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.spec = app_spec;\n    this.staging = genStateStruct({}, app_spec.widgets);\n    this.state = this.staging;\n    console.log(this.state);\n  }\n\n  componentDidMount(){\n    this.spec.widgets.map((wspec) => {\n      if (\n        wspec.type === \"query\" &&\n        wspec.backend === \"urlfetch\" &&\n        wspec.fetch_on_init\n      ) {\n        this.runUrlFetchQuery(wspec.id);\n      }\n      return null;\n    });\n\n  }\n  handleTextChange(id, event) {\n    console.log(\"handleTextChange(\" + id + \"): \");\n    console.log(this.state);\n    this.staging[id].value = event.target.value;\n  }\n\n  handleSelectChange(id, event) {\n    console.log(\"handleSelectChange(\" + id + \"): \");\n    console.log(this.state);\n    this.staging[id].value = event.target.value;\n    this.setState(this.staging);\n  }\n  runPrestoQuery(qid) {\n    console.log(\"Run Presto Query: \" + qid);\n    prestoFetch(this.staging[qid].query, (data, cols) => {\n      this.staging[qid].data = data;\n      this.staging[qid].cols = cols;\n      console.log(this.staging);\n      this.setState(this.staging);\n    });\n  }\n  runNativeQuery(qid) {\n    // Extract the values for the endpoint query params\n    const args = [];\n    for (const a of this.staging[qid].args) {\n      //console.log(a);\n      args.push(this.staging[a.from].value);\n    }\n    const vars = {\n      endpoint: this.staging[qid].endpoint,\n      query: this.staging[qid].query,\n      args: JSON.stringify(args),\n    };\n    client.query({ query: data_query, variables: vars }).then((result) => {\n      console.log(result);\n      console.log(\"Before setting data: staging = \");\n      console.log(this.staging);\n      console.log(\"qid = \" + qid);\n      this.staging[qid].data = JSON.parse(result.data.getData.data);\n      // TODO: should be smart application of colspecs on the cols\n      this.staging[qid].cols = JSON.parse(result.data.getData.colstr);\n      console.log(\"Before setState: staging = \");\n      console.log(this.staging);\n      this.setState(this.staging);\n    });\n  }\n  runConstantQuery(qid) {\n    console.log(\"Run Constant Query: \" + qid);\n    this.staging[qid].data = this.staging[qid].query.data;\n    this.staging[qid].cols = this.staging[qid].query.cols;\n    console.log(this.staging);\n    this.setState(this.staging);\n  }\n\n  runUrlFetchQuery(qid) {\n    console.log(\"Run Url Fetch Query: \" + qid);\n    let url = this.staging[qid].query;\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        this.staging[qid].data = data;\n        this.staging[qid].cols = extractColumnSpec(data);\n        //console.log(this.staging);\n        this.setState(this.staging);\n      });\n  }\n\n  handleClick(id) {\n    console.log(\"handleClick(\" + id + \"): \");\n    const qid = this.staging[id].trigger;\n    switch (this.staging[qid].backend) {\n      case \"presto\":\n        this.runPrestoQuery(qid);\n        break;\n      case \"native\":\n        this.runNativeQuery(qid);\n        break;\n      case \"constant\":\n        this.runConstantQuery(qid);\n        break;\n      default:\n        console.log(\"Unrecognized backend: \" + this.staging[qid].backend);\n        break;\n    }\n  }\n  generateWidget(wspec) {\n\n    const callbacks = {\n      handleClick: (id) => this.handleClick(id),\n      handleTextChange: (id, event) => this.handleTextChange(id, event),\n      handleSelectChange: (id, event) => this.handleSelectChange(id, event),\n      updateData: (id, d, c) => this.updateData(id, d, c),\n    };\n    return (<Widget \n            wspec={wspec} \n            callbacks={callbacks} \n            state={this.state} \n            widgets={this.spec.widgets}\n        />);\n  }\n\n  render() {\n    return (\n      <div style={{ maxWidth: \"100%\" }}>\n        <Grid container className={{flexGrow: 1}} spacing={5}\n            alignContent='flex-start' alignItems='flex-start' justify='flex-start'\n>\n          <ApolloProvider client={client}>\n            {this.spec.widgets.map((spec) => this.generateWidget(spec))}\n          </ApolloProvider>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { ApolloClient, InMemoryCache, useQuery, gql } from '@apollo/client';\nimport { ApolloProvider } from '@apollo/client/react';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}