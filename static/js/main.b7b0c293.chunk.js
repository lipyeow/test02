(this.webpackJsonptest02=this.webpackJsonptest02||[]).push([[0],{417:function(e,t,a){},418:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),c=a(19),s=a.n(c),l=(a(417),a(266)),o=a.n(l),u=a(370),d=a(371),b=a(372),g=a(395),f=a(393),h=a(373),p=a(394),j=a(396),O=a(374),y=a(20),x=(a(418),a(258)),w=a.n(x),m=a(521),v=a(522),k=a(523),S=a(525),q=a(514),C=a(169),T=a(378),R=a.n(T),P=a(388),D=a.n(P),N=a(379),_=a.n(N),E=a(386),W=a.n(E),B=a(268),L=a.n(B),Q=a(267),F=a.n(Q),I=a(380),A=a.n(I),H=a(381),U=a.n(H),G=a(383),M=a.n(G),$=a(384),J=a.n($),Y=a(385),V=a.n(Y),z=a(389),X=a.n(z),K=a(382),Z=a.n(K),ee=a(387),te=a.n(ee),ae=a(390),ne=a.n(ae),ie=a(351),re=a(348),ce=a(263),se=a(339),le=a(262),oe=a(265),ue=a(352),de=a(517),be=a(524),ge=a(516),fe=a(105),he=a(256),pe=a(14),je={widgets:[{type:"text",id:"txt1",value:'\n<table width=100%>\n<tr>\n   <td width=8%>&nbsp;</td>\n   <td>\n      <IMG border="1"\n            align=left \n            SRC="https://lipyeow.github.io/home/img/lypic2018.jpg" height=250 />\n   </td>\n   <td width=7%>&nbsp;</td>\n   <td width=85%>\n      <h1>Lipyeow Lim &nbsp; &nbsp; &#26519;&#31435;&#32768; </h1>\n      \n      <h2>Associate Professor</h2>\n      \n      Information and Computer Science Department <br/>\n      University of Hawaii at Manoa <br/>\n      1680 East West Road, POST 303E <br/>\n      Honolulu, HI 96822, USA <br/>\n      <b>Email</b>: lipyeow at hawaii dot edu \n      <b>Tel</b>: 808-956-3495 <br/>\n      <br/>\n   </td>\n</tr>\n</table>\n'},{type:"tabcontainer",id:"tabcontainer01",tabs:[{label:"Education",idx:0,widgets:[{type:"table",id:"tEdu",label:Object(pe.jsx)("h1",{children:"Education"}),dataref:"qEdu",colspecs:[{title:"Year",field:"year"},{title:"Degree",field:"degree"},{title:"Major",field:"major"},{title:"School",field:"institution"},{title:"Thesis",field:"thesis"},{title:"Advisor",field:"advisor"}],options:{search:!1,paging:!1,filtering:!1,exportButton:!1,tableLayout:"auto",showTitle:!0,toolbar:!0}}]},{label:"Publications",idx:1,widgets:[{type:"table",id:"tPub",label:Object(pe.jsx)("h1",{children:"Publications"}),dataref:"qPub",colspecs:[{title:"Year",field:"year",cellStyle:{cellWidth:"10%"}},{title:"Venue",field:"venue",cellStyle:{cellWidth:"20%"}},{title:"Title",field:"title",cellStyle:{cellWidth:"50%"}},{title:"Authors",field:"authors",cellStyle:{cellWidth:"20%"}},{title:"pdf",field:"pdf",render:function(e){return Object(pe.jsx)("a",{href:"https://lipyeow.github.io/home/"+e.pdf,download:!0,children:"pdf"})}}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto"}}]},{label:"Students",idx:2,widgets:[{type:"table",id:"tStu",label:Object(pe.jsx)("h1",{children:"Students"}),dataref:"qStu",colspecs:[{title:"Year",field:"year"},{title:"Degree",field:"degree"},{title:"Name",field:"name"},{title:"Thesis",field:"thesis"}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto"}}]},{label:"Teaching",idx:3,widgets:[{type:"table",id:"tTeach",label:Object(pe.jsx)("h1",{children:"Teaching"}),dataref:"qTeach",colspecs:[{title:"Year",field:"year"},{title:"Semester",field:"semester"},{title:"Course",field:"num"},{title:"Title",field:"title",defaultGroupOrder:0},{title:"Level",field:"level"},{title:"Website",field:"url",render:function(e){return Object(pe.jsx)("a",{href:e.url,download:!0,children:e.url})}}],options:{search:!0,paging:!1,filtering:!1,exportButton:!0,maxBodyHeight:"50vh",tableLayout:"auto",grouping:!0}}]}]},{type:"query",id:"qPub",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/pubs.json",fetch_on_init:!0,args:[]},{type:"query",id:"qEdu",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/education.json",fetch_on_init:!0,args:[]},{type:"query",id:"qStu",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/students.json",fetch_on_init:!0,args:[]},{type:"query",id:"qTeach",backend:"urlfetch",endpoint:"r0",query:"https://lipyeow.github.io/test02/data/teaching.json",fetch_on_init:!0,args:[]},{type:"query",id:"q2",backend:"constant",endpoint:"r0",query:{cols:[{title:"Year",field:"year"},{title:"Title",field:"title"},{title:"Venue",field:"venue"}],data:[{year:"2020",title:"Deep learning",authors:"john et al",venue:"vldb"},{year:"2021",title:'<a href="https://lipyeow.github.io/home/">pdf</a>',authors:"Tim et al",venue:"sigmod"}]},args:[{from:"ti1"},{from:"ti1"},{from:"m1"},{from:"m1"}]}]},Oe=["children","value","index"],ye={Add:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(R.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Check:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(_.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Clear:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(F.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Delete:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(A.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),DetailPanel:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(L.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Edit:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(U.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Export:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(Z.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Filter:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(M.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),FirstPage:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(J.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),LastPage:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(V.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),NextPage:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(L.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),PreviousPage:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(W.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(F.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),Search:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(te.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(D.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(X.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))})),ViewColumn:Object(i.forwardRef)((function(e,t){return Object(pe.jsx)(ne.a,Object(y.a)(Object(y.a)({},e),{},{ref:t}))}))},xe=new m.a({uri:"http://127.0.0.1:4000/graphql",cache:new v.a,fetchOptions:{mode:"no-cors"}}),we=Object(k.a)(n||(n=Object(O.a)(["\n  query GetData($endpoint: String!, $query: String!, $args: String) {\n    getData(endpoint: $endpoint, query: $query, args: $args) {\n      data\n      colstr\n      columns {\n        title\n        field\n      }\n    }\n  }\n"])));function me(e){return console.log(e.state[e.id]),Object(pe.jsx)(w.a,{icons:ye,title:e.label,data:e.state[e.state[e.id].dataref].data,columns:e.state[e.id].colspecs.length>0?e.state[e.id].colspecs:e.state[e.state[e.id].dataref].cols,options:e.state[e.id].options})}var ve=Object(ie.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"},flexgrow:1,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function ke(e){var t=e.children,a=e.value,n=e.index,i=Object(j.a)(e,Oe);return Object(pe.jsx)("div",Object(y.a)(Object(y.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(pe.jsx)(he.a,{p:3,children:Object(pe.jsx)(fe.a,{children:t})})}))}function Se(e){var t=ve(),a=r.a.useState(0),n=Object(p.a)(a,2),i=n[0],c=n[1];return Object(pe.jsxs)("div",{className:t.root,children:[Object(pe.jsx)(de.a,{position:"static",style:{minWidth:"100%"},children:Object(pe.jsx)(be.a,{value:i,onChange:function(e,t){c(t)},"aria-label":"simple tabs example",variant:"fullWidth",children:e.tabs.map((function(e){return Object(pe.jsx)(ge.a,Object(y.a)({label:e.label},(t=e.idx,{id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)})));var t}))})}),e.tabs.map((function(t){return Object(pe.jsx)(ke,{value:i,index:t.idx,style:{minWidth:"100%"},children:t.widgets.map((function(t){return Object(pe.jsx)(Ce,{wspec:t,callbacks:e.callbacks,state:e.state})}))})}))]})}function qe(e){var t=ve();return Object(pe.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:e.widgets.map((function(t){return Object(pe.jsx)(Ce,{wspec:t,callbacks:e.callbacks,state:e.state,widgets:e.widget})}))})}function Ce(e){var t=ve();switch(e.wspec.type){case"tabcontainer":return console.log("tabcontainer!"),Object(pe.jsx)(q.a,{item:!0,xs:12,children:Object(pe.jsx)(Se,{callbacks:e.callbacks,state:e.state,tabs:e.wspec.tabs},e.wspec.id)});case"form":return Object(pe.jsx)(qe,{callbacks:e.callbacks,state:e.state,widgets:e.wspec.widgets},e.wspec.id);case"table":return Object(pe.jsx)(q.a,{item:!0,xs:12,children:Object(pe.jsx)(me,{id:e.wspec.id,label:e.wspec.label,state:e.state,updateData:e.callbacks.updateData},e.wspec.id)});case"text_input":return Object(pe.jsx)(re.a,{state:e.state,id:"queryinput",label:e.wspec.label,onChange:function(t){return e.callbacks.handleTextChange(e.wspec.id,t)},variant:"outlined"},e.wspec.id);case"menu":return Object(pe.jsxs)(le.a,{state:e.state,variant:"filled",className:t.formControl,children:[Object(pe.jsx)(ce.a,{id:"demo-simple-select-filled-label",children:e.wspec.label}),Object(pe.jsxs)(oe.a,{labelId:"demo-simple-select-filled-label",id:"qtypedropdown",value:e.state[e.wspec.id].value,onChange:function(t){return e.callbacks.handleSelectChange(e.wspec.id,t)},children:[Object(pe.jsx)(se.a,{value:"",children:Object(pe.jsx)("em",{children:"None"})}),e.wspec.values.map((function(e){return Object(pe.jsx)(se.a,{value:e.value,children:e.display},e.id)}))]})]},e.wspec.id);case"button":return Object(pe.jsx)(ue.a,{state:e.state,id:e.wspec.id,trigger:e.wspec.trigger,variant:"contained",onClick:function(){return e.callbacks.handleClick(e.wspec.id)},children:e.wspec.label},e.wspec.id);case"text":return Object(pe.jsx)(q.a,{item:!0,xs:12,children:Object(pe.jsx)(C.a,{className:t.paper,children:Object(pe.jsx)("div",{dangerouslySetInnerHTML:{__html:e.wspec.value}},e.wspec.id)})});default:return null}}function Te(e,t){switch(t.type){case"table":e[t.id]={dataref:t.dataref,cols:[],colspecs:t.colspecs,options:t.options};break;case"query":e[t.id]={data:[],cols:[],backend:t.backend,endpoint:t.endpoint,query:t.query,args:t.args},"constant"===t.backend&&(e[t.id].data=t.query.data,e[t.id].cols=t.query.cols);break;case"text_input":case"menu":e[t.id]={value:""};break;case"button":e[t.id]={value:"",trigger:t.trigger};break;case"text":e[t.id]={value:t.value};break;case"form":Re(e,t.widgets);break;case"tabcontainer":t.tabs.map((function(t){return Re(e,t.widgets)}))}return e}function Re(e,t){return t.reduce(Te,e)}function Pe(e){return new Promise((function(t){return setTimeout(t,e)}))}function De(e,t){for(var a={},n=0;n<e.length;n++)a[e[n]]=t[n];return a}function Ne(){return(Ne=Object(h.a)(o.a.mark((function e(t,a){var n,i,r,c,s,l,u,d,b,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:5000/presto/v1/statement",(i=new Headers).append("Content-Type","text/plain"),i.append("Access-Control-Allow-Origin","*"),i.append("X-Presto-User","l002"),r={method:"POST",headers:i,body:t},console.log(n),console.log(r),c={},e.prev=9,e.next=12,fetch(n,r);case 12:return e.next=14,e.sent.json();case 14:c=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:console.log(c),s={method:"GET",headers:i},l=c.nextUri.replace(":8080/",":5000/presto/"),console.log(l),console.log(s),u=c.stats.state,d=0;case 27:if(!(d<8)){e.next=48;break}return e.next=30,Pe(4e3);case 30:return e.prev=30,e.next=33,fetch(l,s);case 33:return e.next=35,e.sent.json();case 35:c=e.sent,e.next=41;break;case 38:e.prev=38,e.t1=e.catch(30),console.log(e.t1);case 41:if(u=c.stats.state,console.log(c),"FINISHING"!==u){e.next=45;break}return e.abrupt("break",48);case 45:d++,e.next=27;break;case 48:return b=c.columns.map((function(e){return e.name})),(g={}).data=c.data.map((function(e){return De(b,e)})),g.cols=b.map((function(e){return{title:e,field:e}})),a(g.data,g.cols),e.abrupt("return",g);case 54:case"end":return e.stop()}}),e,null,[[9,17],[30,38]])})))).apply(this,arguments)}var _e=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).spec=je,n.staging=Re({},je.widgets),n.state=n.staging,console.log(n.state),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.spec.widgets.map((function(t){return"query"===t.type&&"urlfetch"===t.backend&&t.fetch_on_init&&e.runUrlFetchQuery(t.id),null}))}},{key:"handleTextChange",value:function(e,t){console.log("handleTextChange("+e+"): "),console.log(this.state),this.staging[e].value=t.target.value}},{key:"handleSelectChange",value:function(e,t){console.log("handleSelectChange("+e+"): "),console.log(this.state),this.staging[e].value=t.target.value,this.setState(this.staging)}},{key:"runPrestoQuery",value:function(e){var t=this;console.log("Run Presto Query: "+e),function(e,t){Ne.apply(this,arguments)}(this.staging[e].query,(function(a,n){t.staging[e].data=a,t.staging[e].cols=n,console.log(t.staging),t.setState(t.staging)}))}},{key:"runNativeQuery",value:function(e){var t,a=this,n=[],i=Object(u.a)(this.staging[e].args);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(this.staging[r.from].value)}}catch(s){i.e(s)}finally{i.f()}var c={endpoint:this.staging[e].endpoint,query:this.staging[e].query,args:JSON.stringify(n)};xe.query({query:we,variables:c}).then((function(t){console.log(t),console.log("Before setting data: staging = "),console.log(a.staging),console.log("qid = "+e),a.staging[e].data=JSON.parse(t.data.getData.data),a.staging[e].cols=JSON.parse(t.data.getData.colstr),console.log("Before setState: staging = "),console.log(a.staging),a.setState(a.staging)}))}},{key:"runConstantQuery",value:function(e){console.log("Run Constant Query: "+e),this.staging[e].data=this.staging[e].query.data,this.staging[e].cols=this.staging[e].query.cols,console.log(this.staging),this.setState(this.staging)}},{key:"runUrlFetchQuery",value:function(e){var t=this;console.log("Run Url Fetch Query: "+e);var a=this.staging[e].query;fetch(a).then((function(e){return e.json()})).then((function(a){console.log(a),t.staging[e].data=a,t.staging[e].cols=function(e){return Object.keys(e[0]).map((function(e){return{title:e,field:e}}))}(a),t.setState(t.staging)}))}},{key:"handleClick",value:function(e){console.log("handleClick("+e+"): ");var t=this.staging[e].trigger;switch(this.staging[t].backend){case"presto":this.runPrestoQuery(t);break;case"native":this.runNativeQuery(t);break;case"constant":this.runConstantQuery(t);break;default:console.log("Unrecognized backend: "+this.staging[t].backend)}}},{key:"generateWidget",value:function(e){var t=this,a={handleClick:function(e){return t.handleClick(e)},handleTextChange:function(e,a){return t.handleTextChange(e,a)},handleSelectChange:function(e,a){return t.handleSelectChange(e,a)},updateData:function(e,a,n){return t.updateData(e,a,n)}};return Object(pe.jsx)(Ce,{wspec:e,callbacks:a,state:this.state,widgets:this.spec.widgets})}},{key:"render",value:function(){var e=this;return Object(pe.jsx)("div",{style:{maxWidth:"100%"},children:Object(pe.jsx)(q.a,{container:!0,className:{flexGrow:1},spacing:2,children:Object(pe.jsx)(S.a,{client:xe,children:this.spec.widgets.map((function(t){return e.generateWidget(t)}))})})})}}]),a}(i.Component),Ee=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,915)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};s.a.render(Object(pe.jsx)(r.a.StrictMode,{children:Object(pe.jsx)(_e,{})}),document.getElementById("root")),Ee()}},[[484,1,2]]]);
//# sourceMappingURL=main.b7b0c293.chunk.js.map